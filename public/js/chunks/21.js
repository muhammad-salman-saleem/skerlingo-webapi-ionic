(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{194:function(t,s,a){"use strict";a.r(s);var e={mounted:function(){console.log("Component mounted."),this.daterangepickerInit()},data:function(){return{date:null,url:"statistics",statuts:[],stars:[],professeurs:[],prestations:[]}},created:function(){},methods:{fetch:function(){var t={};this.date&&(t.date=this.date),axios.get(this.url,{params:t}).then(function(t){this.professeurs=t.data.professeurs,this.prestations=t.data.prestations,this.statuts=t.data.charts.statuts,this.stars=t.data.charts.stars,KTDashboard.init(t.data.charts)}.bind(this)).catch((function(t){return console.log(t)}))},cb:function(t,s,a){var e="",i="",r="";s-t<100||"Aujourd'hui"==a?(e="Aujourd'hui :",i=t.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+t.format("Y-MM-DD")):"Hier"==a?(e="Hier :",i=t.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+t.format("Y-MM-DD")):(i=t.format("D MMM Y")+" - "+s.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+s.format("Y-MM-DD")),$("#kt_dashboard_daterangepicker_date").html(i),$("#kt_dashboard_daterangepicker_title").html(e),$("#kt_dashboard_daterangepicker_input").val(r),this.date=r,this.fetch()},daterangepickerInit:function(){if(0!=$("#kt_dashboard_daterangepicker").length){var t=$("#kt_dashboard_daterangepicker"),s=moment().subtract(6,"days"),a=moment();t.daterangepicker({direction:KTUtil.isRTL(),startDate:s,endDate:a,opens:"left",ranges:{"Aujourd'hui":[moment(),moment()],Hier:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Derniers 7 jours":[moment().subtract(6,"days"),moment()],"Derniers 30 jours":[moment().subtract(29,"days"),moment()],"Ce mois":[moment().startOf("month"),moment().endOf("month")],"Mois précédent":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Cette année":[moment().startOf("year"),moment().endOf("year")]}},this.cb),this.cb(s,a,"")}}}},i=a(4),r=Object(i.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"kt-subheader kt-grid__item",attrs:{id:"kt_subheader"}},[a("div",{staticClass:"kt-container kt-container--fluid"},[t._m(0),t._v(" "),a("div",{staticClass:"kt-subheader__toolbar"},[a("div",{staticClass:"kt-subheader__wrapper"},[a("a",{staticClass:"btn kt-subheader__btn-daterange",attrs:{href:"#",id:"kt_dashboard_daterangepicker","data-toggle":"kt-tooltip",title:"Select dashboard daterange","data-placement":"left"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"hidden",id:"kt_dashboard_daterangepicker_input"},domProps:{value:t.date},on:{change:t.fetch,input:function(s){s.target.composing||(t.date=s.target.value)}}}),t._v(" "),a("span",{staticClass:"kt-subheader__btn-daterange-title",attrs:{id:"kt_dashboard_daterangepicker_title"}},[t._v("Aujourd\\'hui")]),t._v(" \n            "),a("span",{staticClass:"kt-subheader__btn-daterange-date",attrs:{id:"kt_dashboard_daterangepicker_date"}},[t._v("Aug 16")]),t._v(" "),a("i",{staticClass:"flaticon2-calendar-1"})])])])])]),t._v(" "),a("div",{staticClass:"kt-container kt-container--fluid kt-grid__item kt-grid__item--fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-lg-6 order-lg-3 order-xl-1"},[a("div",{staticClass:"kt-portlet kt-portlet--height-fluid"},[t._m(1),t._v(" "),a("div",{staticClass:"kt-portlet__body"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{id:"kt_widget5_tab1_content","aria-expanded":"true"}},[a("div",{staticClass:"kt-widget5"},t._l(t.prestations,(function(s){return a("div",{key:s.id,staticClass:"kt-widget5__item"},[a("div",{staticClass:"kt-widget5__content"},[a("div",{staticClass:"kt-widget5__pic"},[a("img",{staticClass:"kt-widget7__img",staticStyle:{width:"100px"},attrs:{src:s.image_url,alt:""}})]),t._v(" "),a("div",{staticClass:"kt-widget5__section"},[a("a",{staticClass:"kt-widget5__title",attrs:{href:"#"}},[t._v("\n                          "+t._s(s.label)+"\n                        ")]),t._v(" "),a("p",{staticClass:"kt-widget5__desc"},[t._v("\n                          "+t._s(s.label_categorie)+"\n                        ")])])]),t._v(" "),a("div",{staticClass:"kt-widget5__content"},[a("div",{staticClass:"kt-widget5__stats"},[a("span",{staticClass:"kt-widget5__number"},[t._v("\n                          "+t._s(s.reservations_count)+"\n                        ")]),t._v(" "),a("span",{staticClass:"kt-widget5__sales"},[t._v("réservations")])])])])})),0)])])])])]),t._v(" "),a("div",{staticClass:"col-md-4 col-lg-6 order-lg-3 order-xl-1"},[a("div",{staticClass:"kt-portlet kt-portlet--tabs kt-portlet--height-fluid"},[t._m(2),t._v(" "),a("div",{staticClass:"kt-portlet__body"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{id:"kt_widget4_tab1_content"}},[a("div",{staticClass:"kt-widget4"},t._l(t.professeurs,(function(s){return a("div",{key:s.id,staticClass:"kt-widget4__item"},[a("div",{staticClass:"kt-widget4__pic kt-widget4__pic--pic"},[a("img",{attrs:{src:s.image_url,alt:""}})]),t._v(" "),a("div",{staticClass:"kt-widget4__info"},[a("a",{staticClass:"kt-widget4__username",attrs:{href:"#"}},[t._v("\n                        "+t._s(s.nom+" "+s.prenom)+"\n                      ")])]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-label-brand btn-bold",attrs:{href:"#"}},[t._v("\n                      "+t._s(s.reservations_count)+" clients -\n                      "+t._s(s.paid_sum_count)+" DHS\n                    ")])])})),0)])])])])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"col-md-4 col-lg-4 order-lg-2 order-xl-1"},[a("div",{staticClass:"kt-portlet kt-portlet--height-fluid"},[a("div",{staticClass:"kt-widget14"},[t._m(4),t._v(" "),a("div",{staticClass:"kt-widget14__content"},[t._m(5),t._v(" "),t.statuts?a("div",{staticClass:"kt-widget14__legends"},t._l(t.statuts.labels,(function(s,e){return a("div",{key:s,staticClass:"kt-widget14__legend"},[a("span",{staticClass:"kt-widget14__bullet kt-bg-success",style:{"background-color":t.statuts.colors[e]+" !important"}}),t._v(" "),a("span",{staticClass:"kt-widget14__stats"},[t._v("\n                    "+t._s(t.statuts.pcts[e])+"%\n                    "+t._s(s)+"\n                  ")])])})),0):t._e()])])])]),t._v(" "),a("div",{staticClass:"col-md-4 col-lg-4 order-lg-2 order-xl-1"},[a("div",{staticClass:"kt-portlet kt-portlet--height-fluid"},[a("div",{staticClass:"kt-widget14"},[t._m(6),t._v(" "),a("div",{staticClass:"kt-widget14__content"},[t._m(7),t._v(" "),t.stars?a("div",{staticClass:"kt-widget14__legends"},t._l(t.stars.data,(function(s,e){return a("div",{key:s.label,staticClass:"kt-widget14__legend"},[a("span",{staticClass:"kt-widget14__bullet kt-bg-success",style:{"background-color":t.stars.colors[e]+" !important"}}),t._v(" "),a("span",{staticClass:"kt-widget14__stats"},[t._v("\n                    "+t._s(s.value)+"% :\n                    "+t._s(s.label)+"\n                  ")])])})),0):t._e()])])])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-subheader__main"},[s("h3",{staticClass:"kt-subheader__title"},[this._v("Statistiques")]),this._v(" "),s("span",{staticClass:"kt-subheader__separator kt-subheader__separator--v"}),this._v(" "),s("div",{staticClass:"kt-subheader__group",attrs:{id:"kt_subheader_search"}},[s("span",{staticClass:"kt-subheader__desc",attrs:{id:"kt_subheader_total"}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-portlet__head"},[s("div",{staticClass:"kt-portlet__head-label"},[s("h3",{staticClass:"kt-portlet__head-title"},[this._v("Les prestations les plus demandées")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-portlet__head"},[s("div",{staticClass:"kt-portlet__head-label"},[s("h3",{staticClass:"kt-portlet__head-title"},[this._v("Nombre de visites par collaborateur")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-4 col-lg-4 order-lg-2 order-xl-1"},[s("div",{staticClass:"kt-portlet kt-portlet--height-fluid"},[s("div",{staticClass:"kt-widget14"},[s("div",{staticClass:"kt-widget14__header kt-margin-b-30"},[s("h3",{staticClass:"kt-widget14__title"},[this._v("Visites clients")]),this._v(" "),s("span",{staticClass:"kt-widget14__desc"},[this._v("Nombre de visites de clients")])]),this._v(" "),s("div",{staticClass:"kt-widget14__chart",staticStyle:{height:"120px"},attrs:{id:"dash_visites_content"}},[s("canvas",{attrs:{id:"dash_visites"}})])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-widget14__header"},[s("h3",{staticClass:"kt-widget14__title"},[this._v("Statut réservations")]),this._v(" "),s("span",{staticClass:"kt-widget14__desc"},[this._v("Taux d'annulation, de confirmation..")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-widget14__chart",attrs:{id:"dash_statuts_content"}},[s("div",{staticClass:"kt-widget14__stat"},[this._v("45")]),this._v(" "),s("canvas",{staticStyle:{height:"140px",width:"140px"},attrs:{id:"dash_statuts"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-widget14__header"},[s("h3",{staticClass:"kt-widget14__title"},[this._v("Fidélisation")]),this._v(" "),s("span",{staticClass:"kt-widget14__desc"},[this._v("Taux de fidélisation")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-widget14__chart",attrs:{id:"dash_stars_content"}},[s("div",{staticStyle:{height:"150px",width:"150px"},attrs:{id:"dash_stars"}})])}],!1,null,null,null);s.default=r.exports}}]);