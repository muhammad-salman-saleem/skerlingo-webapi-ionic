(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{208:function(t,e,a){"use strict";a.r(e);var i=a(2);function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={components:{TiptapVuetify:i.o},data:function(){return{url:"produits",search:"",headers:[{text:"Formation",align:"middle",value:"label",width:"280px"},{text:"État du formation",align:"middle",value:"validation_date_entreprise"},{text:"Date d'ajout",align:"middle",value:"date"},{text:"",align:"right",value:"actions",sortable:!1}],filter:{type:null,secteur:null,marque:null,validation_skerlingo:null,validation_exporteur:null},validationErrors:null,entreprise_categorie:null,produits:[],marques:[],langues:[],langue:"fr",rubriques_produit:[],rubriques_produit_filtred:[],types:[],types_skerlingo:[],produit_fiche:null,produit:{id:null,label:null,label_en:null,label_fr:null,introduction:null,introduction_en:null,introduction_fr:null,details:null,details_en:null,details_fr:null,service:"non",image:null,image_url:null,fiche_url:null,secteur_id:null,marque_id:null,caracteristiques:[],keywords:[],images:[]},overlay:null,edit:!1,extensions:[i.g,i.a,i.j,i.q,i.n,i.i,i.k,i.c,i.l,[i.f,{options:{levels:[1,2,3]}}],i.b,i.d,i.h,i.m,i.e]}},computed:{_headers:function(){return this.headers.filter((function(t){return!t.hide}))}},created:function(){this.$route.query.a_valider&&(this.filter.validation_skerlingo="non_valide",this.filter.validation_exporteur="valide"),this.fetch()},methods:{fetch:function(){var t={};$.each(this.filter,(function(e,a){t[e]=a})),axios.get(this.url,{params:t}).then(function(t){t.data.marques&&(this.marques=t.data.marques),this.types=t.data.types,this.types_skerlingo=t.data.types_skerlingo,this.rubriques_produit=t.data.rubriques_produit,this.produits=t.data.produits,this.langues=t.data.langues}.bind(this)).catch((function(t){return console.log(t)}))},saveProduit:function(t){var e=this;t.target.disabled=!0,t.target.classList.toggle("spinner");if(0==this.produit.images.length)return this.$refs.imageTabs.click(),swal.fire("Ajouter une photo","Au moins une photo est requise pour ajouter le produit.","warning"),t.target.disabled=!1,t.target.classList.toggle("spinner"),!1;var a=new FormData;$.each(this.produit,(function(t,e){a.append(t,e||"")})),a.append("caracteristiques",JSON.stringify(this.produit.caracteristiques)),a.append("keywords",JSON.stringify(this.produit.keywords)),a.append("images",JSON.stringify(this.produit.images)),a.append("fiche",this.produit_fiche),axios.post(this.url,a,{headers:{"content-type":"multipart/form-data"}}).then((function(a){swal.fire(a.data.title,a.data.message,"success"),e.clearForm(),$("#modal_form_produit").modal("toggle"),t.target.disabled=!1,t.target.classList.toggle("spinner"),e.fetch()})).catch((function(a){t.target.disabled=!1,t.target.classList.toggle("spinner"),422==a.response.status&&(e.validationErrors=a.response.data.errors)}))},addProduit:function(){this.$refs.infoTabs.click(),this.clearForm(),this.produit.image_url="https://via.placeholder.com/300/004c68/FFF?text=Image",this.validationErrors=null;new KTImageInput("kt_user_edit_avatar_produit"),new KTImageInput("kt_user_edit_avatar_produit_image");this.addCaracteristique()},editProduit:function(t){var e=this;this.$refs.infoTabs.click(),t=_.cloneDeep(t),$("#modal_form_produit").modal("toggle"),this.validationErrors=null,this.edit=!0;new KTImageInput("kt_user_edit_avatar_produit"),new KTImageInput("kt_user_edit_avatar_produit_image");$.each(this.produit,function(e,a){this.produit[e]=t[e]}.bind(this));this.marques.filter((function(t){return t.value==e.produit.marque_id}))[0];this.rubriques_produit_filtred=this.rubriques_produit,this.addCaracteristique()},valider_produit:function(t,e){swal.fire({title:"Êtes-vous sûr ?",text:"refus"==e?"Vous êtes sur le point de refuser ce produit !":"Vous êtes sur le point de valider ce produit !",type:"question",showCancelButton:!0,confirmButtonText:"refus"==e?"Refuser":"Valider",cancelButtonText:"Annuler"}).then(function(a){var i=this;if(a.value){var s={};s.id=t,s.type=e,axios.get("produits/valider_produit",{params:s}).then((function(t){i.$root.$refs.AdminSideBar.fetch(),swal.fire(t.data.title?t.data.title:"Produit Validé",t.data.message?t.data.message:"Le produit a été validé avec succés.","success"),i.fetch()})).catch((function(t){return console.log(t)}))}}.bind(this))},annuler_produit:function(t,e){swal.fire({title:"Êtes-vous sûr ?",text:"refus"==e?"Vous êtes sur le point d'annuler le refus !":"Vous êtes sur le point d'annuler la validation du produit !",type:"question",showCancelButton:!0,confirmButtonText:"refus"==e?"Annuler le refus":"Annuler la validation",cancelButtonText:"Fermer"}).then(function(a){var i=this;if(a.value){var s={};s.id=t,s.type=e,axios.get("produits/annuler_produit",{params:s}).then((function(t){i.$root.$refs.AdminSideBar.fetch(),swal.fire(t.data.title?t.data.title:"Validation annulé",t.data.message?t.data.message:"La validation a été annulée avec succés.","success"),i.fetch()})).catch((function(t){return console.log(t)}))}}.bind(this))},deleteProduit:function(t){swal.fire({title:"Êtes-vous sûr ?",text:"Vous êtes sur le point de supprimer ce produit !",type:"question",showCancelButton:!0,confirmButtonText:"Supprimer",cancelButtonText:"Annuler"}).then(function(e){var a=this;e.value&&axios.post(this.url+"/"+t,{_method:"DELETE"}).then((function(t){swal.fire("Produit supprimé !","Le Produit a été supprimé avec succés.","success"),a.fetch()})).catch((function(t){return console.log(t)}))}.bind(this))},removeKeywords:function(t){this.produit.keywords.splice(this.produit.keywords.indexOf(t),1),this.produit.keywords=s(this.produit.keywords)},addCaracteristique:function(){this.produit.caracteristiques.push({})},deleteCaracteristique:function(t){this.$delete(this.produit.caracteristiques,t),console.log(this.produit.caracteristiques)},clearForm:function(){this.edit=!1,$.each(this.produit,function(t,e){this.produit[t]=null}.bind(this)),this.produit.service="non",this.produit.caracteristiques=[],this.produit.images=[],this.produit.keywords=[],this.produit_fiche=null},onImageChangeProduit:function(t){this.produit.image=t.target.files[0]},onImageChangeProduitImage:function(t){var e=this;this.overlay=!0;var a=t.target.files[0],i=new FormData;i.append("image",a),this.produit.id&&i.append("produit",this.produit.id),axios.post("produits/upload_photo",i,{headers:{"content-type":"multipart/form-data"}}).then((function(t){t.data.image&&e.produit.images.push(t.data.image),$("#kt_user_edit_avatar_produit_image .remove_photo").trigger("click"),$("#kt_user_edit_avatar_produit_image input").val(""),$("#kt_user_edit_avatar_produit_image .image-input-wrapper").css("background-image","url(https://via.placeholder.com/300/004c68/FFF?text=Upload)"),e.overlay=!1})).catch((function(t){e.overlay=!1,422==t.response.status&&(e.validationErrors=t.response.data.errors)}))},deleteImage:function(t){swal.fire({title:"Êtes-vous sûr ?",text:"Vous êtes sur le point de supprimer cette image !",type:"question",showCancelButton:!0,confirmButtonText:"Supprimer",cancelButtonText:"Annuler"}).then(function(e){var a=this;e.value&&axios.post(this.url+"/delete_photo/"+t).then((function(e){a.produit.images=a.produit.images.filter((function(e){return e.id!=t}))})).catch((function(t){return console.log(t)}))}.bind(this))},changeLang:function(t){this.langue=t.value},changeEntreprise:function(){var t=this;this.marques.filter((function(e){return e.value==t.produit.marque_id}))[0];this.rubriques_produit_filtred=this.rubriques_produit}}},n=a(4),o=Object(n.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"subheader py-2 py-lg-4 subheader-solid",attrs:{id:"kt_subheader"}},[a("div",{staticClass:"container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap"},[a("div",{staticClass:"d-flex align-items-center flex-wrap mr-2"},[a("h5",{staticClass:"text-dark font-weight-bold mt-2 mb-2 mr-5"},[t._v("Formations")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center",attrs:{id:"kt_subheader_search"}},[a("form",{staticClass:"ml-5"},[a("div",{staticClass:"input-group input-group-sm input-group-solid",staticStyle:{"max-width":"175px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Recherche..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("span",{staticClass:"svg-icon"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),t._v(" "),a("path",{attrs:{d:"M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}}),t._v(" "),a("path",{attrs:{d:"M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z",fill:"#000000","fill-rule":"nonzero"}})])])])])])])])])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("a",{staticClass:"btn btn-primary btn-sm d-none",attrs:{"data-toggle":"modal",href:"#modal_form_produit"},on:{click:function(e){return t.addProduit()}}},[a("i",{staticClass:"ki ki-plus icon-1x"}),t._v("Ajouter un produit\n        ")])])])]),t._v(" "),a("div",{staticClass:"d-flex flex-column-fluid"},[a("div",{staticClass:"container-fluid"},[1==t.$auth.user().role_id?a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-body p-4 pr-8 pl-8"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-xl-4"},[a("div",{staticClass:"form-group mb-0"},[a("label",[t._v("État du formation")]),t._v(" "),a("v-autocomplete",{attrs:{items:t.types,clearable:"",dense:"",filled:""},model:{value:t.filter.validation_exporteur,callback:function(e){t.$set(t.filter,"validation_exporteur",e)},expression:"filter.validation_exporteur"}})],1)]),t._v(" "),a("div",{staticClass:"col-xl-4"},[a("div",{staticClass:"form-group mb-0"},[a("label",[t._v("Catégorie")]),t._v(" "),a("v-autocomplete",{attrs:{items:t.rubriques_produit,clearable:"",dense:"",filled:""},scopedSlots:t._u([{key:"item",fn:function(e){return[[a("v-list-item-avatar",{staticStyle:{"border-radius":"0"}},[e.item.parent_label?t._e():a("img",{attrs:{src:e.item.avatar}}),t._v(" "),e.item.parent_label?a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:e.item.avatar}}):t._e()]),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(e.item.text)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.item.parent_label)}})],1)]]}}],null,!1,3605748394),model:{value:t.filter.secteur,callback:function(e){t.$set(t.filter,"secteur",e)},expression:"filter.secteur"}})],1)]),t._v(" "),a("div",{staticClass:"col-xl-3 d-none"},[a("div",{staticClass:"form-group mb-0"},[a("label",[t._v("Marque")]),t._v(" "),a("v-autocomplete",{attrs:{items:t.marques,clearable:"",dense:"",filled:""},model:{value:t.filter.marque,callback:function(e){t.$set(t.filter,"marque",e)},expression:"filter.marque"}})],1)]),t._v(" "),a("div",{staticClass:"col-xl-1 mt-7"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.fetch()}}},[t._m(0)])])])])]):t._e(),t._v(" "),a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-header card-header-nob"},[a("div",{staticClass:"card-title"},[a("h3",{staticClass:"card-label"},[t._v(t._s(t.produits.length)+" Formations")])])]),t._v(" "),a("div",{staticClass:"card-body p-5 pt-0"},[a("v-card",{staticStyle:{"box-shadow":"none"}},[a("v-data-table",{staticClass:"table overflow-initial",attrs:{headers:t._headers,items:t.produits,search:t.search},scopedSlots:t._u([{key:"item.marque_label",fn:function(e){var i=e.item;return[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"symbol symbol-30 symbol-light-success mr-2"},[a("img",{attrs:{src:i.marque_image,alt:""}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column flex-grow-1"},[a("a",{staticClass:"text-dark text-hover-primary font-size-xs font-weight-bold",attrs:{href:"#"}},[t._v(t._s(i.marque_label))])])])]}},{key:"item.label",fn:function(e){var i=e.item;return[a("div",{staticClass:"d-flex align-items-center",on:{click:function(e){return t.editProduit(i)}}},[a("div",{staticClass:"symbol symbol-50 symbol-light-success mr-2"},[a("img",{attrs:{src:i.image_url,alt:""}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column flex-grow-1"},[a("a",{staticClass:"text-dark text-hover-primary font-size-sm font-weight-bold",attrs:{href:"#"}},[t._v(t._s(i.label))]),t._v(" "),a("span",{staticClass:"text-muted font-size-xs"},[t._v(t._s(i.secteur_label))])])])]}},{key:"item.date",fn:function(e){var i=e.item;return[a("span",{staticClass:"font-size-sm font-roboto"},[t._v(t._s(i.date))])]}},{key:"item.caracteristiques",fn:function(e){var i=e.item;return[a("span",{staticClass:"label label-lg label-inline font-weight-normal"},[t._v(t._s(i.caracteristiques.length))])]}},{key:"item.validation_date_entreprise",fn:function(e){var i=e.item;return[i.validation_date_entreprise?t._e():a("span",{staticClass:"label label-lg label-light-danger label-inline font-weight-normal"},[t._v("Brouillon")]),t._v(" "),i.validation_date_entreprise?a("span",{staticClass:"label label-lg label-light-info label-inline font-weight-normal"},[t._v("Publié")]):t._e(),t._v(" "),(i.validation_date_entreprise,t._e())]}},{key:"item.validation_date_skerlingo",fn:function(e){var i=e.item;return[i.validation_date_skerlingo||i.refus_date?t._e():a("span",{staticClass:"label label-lg label-light-warning label-inline font-weight-normal"},[t._v("A valider")]),t._v(" "),i.refus_date?a("span",{staticClass:"label label-lg label-light-danger label-inline font-weight-normal"},[t._v("Refusé")]):t._e(),t._v(" "),i.validation_date_skerlingo?a("span",{staticClass:"label label-lg label-light-info label-inline font-weight-normal"},[t._v("Validé")]):t._e(),t._v(" "),(i.validation_date_skerlingo,t._e())]}},{key:"item.actions",fn:function(e){var i=e.item;return[a("div",{staticClass:"dropdown dropdown-inline"},[a("a",{staticClass:"btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon mr-2",attrs:{href:"javascript:;","data-toggle":"dropdown"}},[a("i",{staticClass:"ki ki-bold-more-hor"})]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-sm dropdown-menu-right w-300px"},[a("ul",{staticClass:"navi flex-column navi-hover py-2",staticStyle:{"padding-inline-start":"0"}},[a("li",{staticClass:"navi-header font-weight-bolder text-uppercase font-size-xs text-primary pb-2"},[t._v("Actions :")]),t._v(" "),a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",on:{click:function(e){return t.editProduit(i)}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"flaticon2-edit"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("Détails")])])]),t._v(" "),i.validation_date_entreprise?t._e():a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",attrs:{href:"#"},on:{click:function(e){return t.valider_produit(i.id,"entreprise")}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"la la-check"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("Publier le produit")])])]),t._v(" "),i.refus_date&&1==t.$auth.user().role_id?a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",attrs:{href:"#"},on:{click:function(e){return t.annuler_produit(i.id,"refus")}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"la la-check"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("Annuler le refus")])])]):t._e(),t._v(" "),i.validation_date_skerlingo&&1==t.$auth.user().role_id?a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",attrs:{href:"#"},on:{click:function(e){return t.annuler_produit(i.id,"asmex")}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"la la-check"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("\n                            Annuler la validation\n                            "),1==t.$auth.user().role_id?a("small",[t._v("(asmex)")]):t._e()])])]):t._e(),t._v(" "),i.validation_date_entreprise?a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",attrs:{href:"#"},on:{click:function(e){return t.annuler_produit(i.id,"entreprise")}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"la la-check"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("Mettre en Brouillon")])])]):t._e(),t._v(" "),a("li",{staticClass:"navi-item"},[a("a",{staticClass:"navi-link",on:{click:function(e){return t.deleteProduit(i.id)}}},[a("span",{staticClass:"navi-icon"},[a("i",{staticClass:"flaticon-delete-1"})]),t._v(" "),a("span",{staticClass:"navi-text"},[t._v("Supprimer")])])])])])])]}}])})],1)],1)])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal_form_produit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t.produit.id?t._e():a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Ajouter un produit")]),t._v(" "),t.produit.id?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Modifier un produit")]):t._e(),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}})]),t._v(" "),a("form",{staticClass:"mb-3"},[a("div",{staticClass:"modal-body p-0"},[a("div",{staticClass:"card gutter-b mb-0",class:{"overlay overlay-block":t.overlay}},[a("div",{},[a("div",{staticClass:"card-toolbar"},[a("ul",{staticClass:"nav nav-tabs nav-bold nav-tabs-line"},[a("li",{staticClass:"nav-item"},[a("a",{ref:"infoTabs",staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#kt_tab_pane_1_4"}},[t._m(1),t._v(" "),a("span",{staticClass:"nav-text"},[t._v("Informations")])])]),t._v(" "),t._m(2),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{ref:"imageTabs",staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#kt_tab_pane_3_4"}},[t._m(3),t._v(" "),a("span",{staticClass:"nav-text"},[t._v("Photos")])])])])])]),t._v(" "),a("div",{staticClass:"overlay-wrapper"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"kt_tab_pane_1_4",role:"tabpanel","aria-labelledby":"kt_tab_pane_1_4"}},[a("ul",{staticClass:"nav nav-tabs pl-0",attrs:{id:"myTab",role:"tablist"}},t._l(t.langues,(function(e){return a("li",{key:e.value,staticClass:"nav-item",on:{click:function(a){return t.changeLang(e)}}},[a("a",{staticClass:"nav-link",class:{active:t.langue==e.value},attrs:{id:"home-tab","data-toggle":"tab",href:"#"}},[t._m(4,!0),t._v(" "),a("span",{staticClass:"nav-text"},[t._v(t._s(e.text))])])])})),0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[1==t.$auth.user().role_id?a("div",{staticClass:"form-group mb-2"},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("Marque :")]),t._v(" "),a("v-autocomplete",{attrs:{items:t.marques,clearable:"",dense:"",filled:""},model:{value:t.produit.marque_id,callback:function(e){t.$set(t.produit,"marque_id",e)},expression:"produit.marque_id"}})],1):t._e(),t._v(" "),a("div",{staticClass:"form-group d-none mb-2"},[a("label",[t._v("Produit/Service")]),t._v(" "),a("div",{staticClass:"radio-inline"},[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.produit.service,expression:"produit.service"}],attrs:{type:"radio",name:"radios2",value:"non"},domProps:{checked:t._q(t.produit.service,"non")},on:{change:function(e){return t.$set(t.produit,"service","non")}}}),t._v(" "),a("span"),t._v("Produit\n                              ")]),t._v(" "),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.produit.service,expression:"produit.service"}],attrs:{type:"radio",name:"radios2",value:"oui"},domProps:{checked:t._q(t.produit.service,"oui")},on:{change:function(e){return t.$set(t.produit,"service","oui")}}}),t._v(" "),a("span"),t._v("Service\n                              ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},t._l(t.langues,(function(e){return a("div",{key:e.value,class:{"d-none":t.langue!=e.value}},[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("\n                                    Nom du produit/service\n                                    "),a("small",[a("b",[t._v("["+t._s(e.value)+"]")])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.produit["label_"+e.value],expression:"produit['label_'+l.value]"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off",placeholder:"Nom du produit/service "+e.value},domProps:{value:t.produit["label_"+e.value]},on:{input:function(a){a.target.composing||t.$set(t.produit,"label_"+e.value,a.target.value)}}})])])})),0),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("Catégorie :")]),t._v(" "),a("v-autocomplete",{attrs:{items:t.rubriques_produit,clearable:"",dense:"",filled:""},scopedSlots:t._u([{key:"item",fn:function(e){return[[a("v-list-item-avatar",{staticStyle:{"border-radius":"0"}},[e.item.parent_label?t._e():a("img",{attrs:{src:e.item.avatar}}),t._v(" "),e.item.parent_label?a("img",{staticStyle:{width:"20px",height:"20px","margin-left":"20px"},attrs:{src:e.item.avatar}}):t._e()]),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(e.item.text)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.item.parent_label)}})],1)]]}}]),model:{value:t.produit.secteur_id,callback:function(e){t.$set(t.produit,"secteur_id",e)},expression:"produit.secteur_id"}})],1)])]),t._v(" "),t._l(t.langues,(function(e){return a("div",{key:e.value,staticClass:"form-group",class:{"d-none":t.langue!=e.value}},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("\n                              Description rapide\n                              "),a("small",[a("b",[t._v("["+t._s(e.value)+"]")])]),t._v(" "),a("small",[t._v("(120 caractères max)")])]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.produit["introduction_"+e.value],expression:"produit['introduction_'+l.value]"}],staticClass:"form-control",attrs:{maxlength:"120",rows:"3"},domProps:{value:t.produit["introduction_"+e.value]},on:{input:function(a){a.target.composing||t.$set(t.produit,"introduction_"+e.value,a.target.value)}}})])}))],2),t._v(" "),a("div",{staticClass:"col-md-4 d-none"},[a("div",{staticClass:"form-group mt-2 mb-2 text-center"},[a("label",{staticClass:"d-block mb-3"},[t._v("Photo")]),t._v(" "),a("div",{staticClass:"image-input image-input-empty image-input-outline",style:{"background-image":"url("+t.produit.image_url+")"},attrs:{id:"kt_user_edit_avatar_produit"}},[a("div",{staticClass:"image-input-wrapper"}),t._v(" "),a("label",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"change","data-toggle":"tooltip",title:"","data-original-title":"Change avatar"}},[a("i",{staticClass:"fa fa-pen icon-sm text-muted"}),t._v(" "),a("input",{attrs:{type:"file",name:"profile_avatar",accept:".png, .jpg, .jpeg, .svg"},on:{change:t.onImageChangeProduit}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"profile_avatar_remove"}})]),t._v(" "),t._m(5),t._v(" "),t._m(6)])])])]),t._v(" "),t._l(t.langues,(function(e){return a("div",{key:e.value,staticClass:"form-group",class:{"d-none":t.langue!=e.value}},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("\n                          Description\n                          "),a("small",[a("b",[t._v("["+t._s(e.value)+"]")])]),t._v(" :\n                        ")]),t._v(" "),a("tiptap-vuetify",{attrs:{extensions:t.extensions},model:{value:t.produit["details_"+e.value],callback:function(a){t.$set(t.produit,"details_"+e.value,a)},expression:"produit['details_'+l.value]"}})],1)})),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("Mot clés")]),t._v(" "),a("v-combobox",{attrs:{chips:"",clearable:"",label:"Mot clés",multiple:"","prepend-icon":"mdi-filter-variant",solo:""},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.attrs,s=e.item,r=e.select,l=e.selected;return[a("v-chip",t._b({attrs:{"input-value":l,close:""},on:{click:r,"click:close":function(e){return t.removeKeywords(s)}}},"v-chip",i,!1),[t._v(t._s(s)+" ")])]}}]),model:{value:t.produit.keywords,callback:function(e){t.$set(t.produit,"keywords",e)},expression:"produit.keywords"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label",attrs:{for:"recipient-name"}},[t._v("Fiche technique")]),t._v(" "),a("v-file-input",{attrs:{"small-chips":"","truncate-length":"13"},model:{value:t.produit_fiche,callback:function(e){t.produit_fiche=e},expression:"produit_fiche"}})],1)],2),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"kt_tab_pane_2_4",role:"tabpanel","aria-labelledby":"kt_tab_pane_2_4"}},[a("ul",{staticClass:"nav nav-tabs pl-0",attrs:{id:"myTab",role:"tablist"}},t._l(t.langues,(function(e){return a("li",{key:e.value,staticClass:"nav-item",on:{click:function(a){return t.changeLang(e)}}},[a("a",{staticClass:"nav-link",class:{active:t.langue==e.value},attrs:{id:"home-tab","data-toggle":"tab",href:"#"}},[t._m(7,!0),t._v(" "),a("span",{staticClass:"nav-text"},[t._v(t._s(e.text))])])])})),0),t._v(" "),a("h4",{staticClass:"text-dark mt-3 font-weight-bolder"},[t._v("Caractéristiques")]),t._v(" "),t._l(t.produit.caracteristiques,(function(e,i){return a("div",{key:e.id,staticClass:"row"},[a("div",{staticClass:"col-md-4"},t._l(t.langues,(function(i){return a("div",{key:i.value,staticClass:"form-group mb-0",class:{"d-none":t.langue!=i.value}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e["label_"+i.value],expression:"caracteristique['label_'+l.value]"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off",placeholder:"Caractéristique ["+i.value+"]"},domProps:{value:e["label_"+i.value]},on:{input:function(a){a.target.composing||t.$set(e,"label_"+i.value,a.target.value)}}})])})),0),t._v(" "),a("div",{staticClass:"col-md-7"},t._l(t.langues,(function(i){return a("div",{key:i.value,staticClass:"form-group mb-0",class:{"d-none":t.langue!=i.value}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e["value_"+i.value],expression:"caracteristique['value_'+l.value]"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off",placeholder:"Valeur ["+i.value+"]"},domProps:{value:e["value_"+i.value]},on:{input:function(a){a.target.composing||t.$set(e,"value_"+i.value,a.target.value)}}})])})),0),t._v(" "),a("div",{staticClass:"col-md-1 pl-0"},[a("a",{staticClass:"btn btn-danger btn-block btn-sm mt-1",on:{click:function(e){return t.deleteCaracteristique(i)}}},[a("i",{staticClass:"flaticon-delete icon-1x"})])])])})),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-end"},[a("a",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.addCaracteristique()}}},[a("i",{staticClass:"ki ki-plus icon-1x"}),t._v(" Ajouter\n                        ")])])],2),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"kt_tab_pane_3_4",role:"tabpanel","aria-labelledby":"kt_tab_pane_3_4"}},[a("div",{staticClass:"symbol-list d-flex flex-wrap"},[t._l(t.produit.images,(function(e,i){return a("div",{key:e.id,staticClass:"symbol symbol-150 m-5"},[a("img",{attrs:{alt:"Pic",src:e.image_url}}),t._v(" "),a("a",{staticClass:"symbol-badge btn btn-icon btn-danger btn-circle mr-2",staticStyle:{width:"30px",height:"30px",right:"-20px",top:"-11px",border:"none"},attrs:{href:"#"},on:{click:function(a){return t.deleteImage(e.id)}}},[a("i",{staticClass:"nav-icon flaticon-delete",staticStyle:{"font-size":"13px"}})])])})),t._v(" "),a("div",{staticClass:"image-input image-input-empty image-input-outline m-5",attrs:{id:"kt_user_edit_avatar_produit_image"}},[a("div",{staticClass:"image-input-wrapper"}),t._v(" "),a("label",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"change","data-toggle":"tooltip",title:"","data-original-title":"Change avatar"}},[a("i",{staticClass:"fa fa-pen icon-sm text-muted"}),t._v(" "),a("input",{attrs:{type:"file",name:"profile_avatar",accept:".png, .jpg, .jpeg, .svg"},on:{change:t.onImageChangeProduitImage}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"profile_avatar_remove"}})]),t._v(" "),t._m(8)])],2)])]),t._v(" "),t.validationErrors?a("validation-errors",{attrs:{errors:t.validationErrors}}):t._e()],1)]),t._v(" "),t.overlay?a("div",{staticClass:"overlay-layer bg-dark-o-10"},[a("div",{staticClass:"spinner spinner-primary"})]):t._e()])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.clearForm()}}},[t._v("Fermer")]),t._v(" "),a("button",{staticClass:"btn btn-primary spinner-light-success spinner-right",attrs:{type:"button"},on:{click:function(e){return t.saveProduit(e)}}},[t._v("Enregistrer")])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"navi-icon"},[e("i",{staticClass:"flaticon-search"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"nav-icon"},[e("i",{staticClass:"flaticon2-chat-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#kt_tab_pane_2_4"}},[e("span",{staticClass:"nav-icon"},[e("i",{staticClass:"flaticon2-drop"})]),this._v(" "),e("span",{staticClass:"nav-text"},[this._v("Caractéristiques")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"nav-icon"},[e("i",{staticClass:"flaticon-photo-camera"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"nav-icon"},[e("i",{staticClass:"far fa-flag"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"cancel","data-toggle":"tooltip",title:"Cancel avatar"}},[e("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"remove","data-toggle":"tooltip",title:"Remove avatar"}},[e("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"nav-icon"},[e("i",{staticClass:"far fa-flag"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-xs remove_image btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"remove","data-toggle":"tooltip",title:"Remove avatar"}},[e("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])}],!1,null,null,null);e.default=o.exports}}]);