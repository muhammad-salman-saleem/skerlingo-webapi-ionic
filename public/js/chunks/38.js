(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{211:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{url:"rfqs",url_website:"".concat("https://skerlingo.com"),search:"",page_title:"",searchItem:null,headers:[{text:"Importateur",align:"middle",value:"importer_label",hide:1!=this.$auth.user().role_id},{text:3==this.$auth.user().role_id?"Product":"Produit",align:"middle",value:"produit_label",hide:!this.$route.query.product},{text:"Nom & Prénom",align:"middle",value:"importer_company",hide:2!=this.$auth.user().role_id||this.$route.query.product},{text:"Nom entreprise",align:"middle",value:"importer_company",hide:2!=this.$auth.user().role_id||!this.$route.query.product},{text:"Pays",align:"middle",value:"importer_pays_label",hide:2!=this.$auth.user().role_id},{text:"Sector",align:"middle",value:"secteur_label",hide:this.$route.query.product||!0},{text:3==this.$auth.user().role_id?"Subject":"Sujet",align:"middle",value:"sujet"},{text:3==this.$auth.user().role_id?"Status":"Statut",align:"middle",value:"published",hide:2==this.$auth.user().role_id},{text:3==this.$auth.user().role_id?"State":"Etat",align:"middle",value:"closed",hide:2==this.$auth.user().role_id||this.$route.query.product},{text:"Date",align:"middle",value:"date"},{text:"",align:"right",value:"actions",sortable:!1}],validationErrors:null,rfqs:[],villes:[],partenaires:[],clients:[],statuts:[],filter:{date:moment().startOf("year").format("Y-MM-DD")+" - "+moment().endOf("year").format("Y-MM-DD"),rfq_product:null,statut:null,partenaire:null},quartier:{id:null,ville_id:null,label:null},edit:!1}},computed:{_headers:function(){return this.headers.filter((function(t){return!t.hide}))}},created:function(){this.$route.query.statut&&(this.filter.statut=parseInt(this.$route.query.statut)),this.fetch()},mounted:function(){this.daterangepickerInit()},methods:{fetch:function(){3==this.$auth.user().role_id?(this.$route.query.product&&(this.filter.rfq_product=!0),this.page_title="My Requests for Quotation"):this.$route.query.product?(this.filter.rfq_product=!0,2==this.$auth.user().role_id?this.page_title="RFQ - From your Catalog":this.page_title="Product/service requests"):2==this.$auth.user().role_id?this.page_title="RFQ - From skerlingo":this.page_title="Direct requests";var t={};$.each(this.filter,(function(e,s){t[e]=s})),axios.get(this.url,{params:t}).then(function(t){this.rfqs=t.data.rfqs}.bind(this)).catch((function(t){return console.log(t)}))},deleteRfq:function(t){swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"question",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(function(e){var s=this;e.value&&axios.delete(this.url+"/"+t).then((function(t){swal.fire("Deleted!","Your file has been deleted.","success"),s.fetch()})).catch((function(t){return console.log(t)}))}.bind(this))},cb:function(t,e,s){var a="",i="",r="";e-t<100||"Aujourd'hui"==s?(a="Aujourd'hui :",i=t.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+t.format("Y-MM-DD")):"Hier"==s?(a="Hier :",i=t.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+t.format("Y-MM-DD")):(i=t.format("D MMM Y")+" - "+e.format("D MMM Y"),r=t.format("Y-MM-DD")+" - "+e.format("Y-MM-DD")),$("#kt_dashboard_daterangepicker_date").html(i),$("#kt_dashboard_daterangepicker_title").html(a),$("#kt_dashboard_daterangepicker_input").val(r),this.filter.date=r},daterangepickerInit:function(){if(0!=$("#kt_dashboard_daterangepicker").length){var t=$("#kt_dashboard_daterangepicker"),e=moment().startOf("year"),s=moment().endOf("year");t.daterangepicker({direction:KTUtil.isRTL(),startDate:e,endDate:s,opens:"left",ranges:{"Aujourd'hui":[moment(),moment()],Hier:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Derniers 7 jours":[moment().subtract(6,"days"),moment()],"Derniers 30 jours":[moment().subtract(29,"days"),moment()],"Ce mois":[moment().startOf("month"),moment().endOf("month")],"Mois précédent":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Cette année":[moment().startOf("year"),moment().endOf("year")]}},this.cb),this.cb(e,s,"")}}}},i=s(4),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"subheader py-2 py-lg-4 subheader-solid",attrs:{id:"kt_subheader"}},[s("div",{staticClass:"container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap"},[s("div",{staticClass:"d-flex align-items-center flex-wrap mr-2"},[s("h5",{staticClass:"text-dark font-weight-bold mt-2 mb-2 mr-5"},[t._v(t._s(t.page_title))]),t._v(" "),s("div",{staticClass:"d-flex align-items-center",attrs:{id:"kt_subheader_search"}},[s("span",{staticClass:"text-dark-50 font-weight-bold",attrs:{id:"kt_subheader_total"}},[t._v(t._s(t.rfqs.length)+" rfqs")]),t._v(" "),s("form",{staticClass:"ml-5"},[s("div",{staticClass:"input-group input-group-sm input-group-solid",staticStyle:{"max-width":"175px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Recherche..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text"},[s("span",{staticClass:"svg-icon"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),t._v(" "),s("path",{attrs:{d:"M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}}),t._v(" "),s("path",{attrs:{d:"M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z",fill:"#000000","fill-rule":"nonzero"}})])])])])])])])])]),t._v(" "),3==t.$auth.user().role_id?s("div",{staticClass:"d-flex align-items-center"},[s("a",{staticClass:"btn btn-fast-blue btn-pill px-5",attrs:{target:"_blank",href:t.url_website+"/requests/new-rfq"}},[s("i",{staticClass:"ki ki-plus icon-1x text-white"}),t._v(" Add a new RFQ\n        ")])]):t._e()])]),t._v(" "),s("div",{staticClass:"d-flex flex-column-fluid"},[s("div",{staticClass:"container-fluid"},[1==t.$auth.user().role_id?s("div",{staticClass:"card card-custom gutter-b"},[s("div",{staticClass:"card-body p-4 pr-8 pl-8"},[s("div",{staticClass:"row justify-content-center"},[t._m(0),t._v(" "),s("div",{staticClass:"col-xl-2 mt-7"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.fetch()}}},[t._m(1),t._v(" "),s("span",{staticClass:"navi-text"},[t._v("Filtrer")])])])])])]):t._e(),t._v(" "),3==t.$auth.user().role_id?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md",class:{"pb-0":!t.$route.query.product}},[s("router-link",{class:{active:!t.$route.query.product},attrs:{to:"/rfqs"}},[s("div",{staticClass:"card card-custom bgi-no-repeat card-stretch bg-slate-blue py-4",staticStyle:{"border-bottom-left-radius":"0px","border-bottom-right-radius":"0px"}},[s("i",{staticClass:"fas fa-paper-plane d-block text-white",staticStyle:{"font-size":"14rem",position:"absolute",bottom:"0",left:"3px","line-height":"1",opacity:".1"}}),t._v(" "),s("div",{staticClass:"card-body text-center"},[s("i",{staticClass:"fas fa-paper-plane d-block text-white",staticStyle:{"font-size":"5rem","line-height":"1"}}),t._v(" "),s("span",{staticClass:"font-weight-500 text-white font-size-h6 text-uppercase mt-5 d-block"},[t._v("RFQ Direct")])])])])],1),t._v(" "),s("div",{staticClass:"col-md",class:{"pb-0":t.$route.query.product}},[s("router-link",{class:{active:t.$route.query.product},attrs:{to:"/rfqs?product=p"}},[s("div",{staticClass:"card card-custom bgi-no-repeat card-stretch bg-slate-blue py-4",staticStyle:{"border-bottom-left-radius":"0px","border-bottom-right-radius":"0px"}},[s("i",{staticClass:"flaticon-shopping-basket d-block text-white",staticStyle:{"font-size":"14rem",position:"absolute",bottom:"0",left:"3px","line-height":"1",opacity:".1"}}),t._v(" "),s("div",{staticClass:"card-body text-center"},[s("i",{staticClass:"flaticon-shopping-basket d-block text-white",staticStyle:{"font-size":"5rem","line-height":"1"}}),t._v(" "),s("span",{staticClass:"font-weight-bolder text-white font-size-h6 text-uppercase mt-5 d-block"},[t._v("RFQ from skerlingo catalog")])])])])],1)]):t._e(),t._v(" "),s("div",{staticClass:"card card-custom gutter-b"},[s("div",{staticClass:"card-header card-header-nob"},[s("div",{staticClass:"card-title"},[s("h3",{staticClass:"card-label"},[t._v(t._s(t.page_title))]),t._v(" "),(t.$auth.user().role_id,t._e())])]),t._v(" "),s("div",{staticClass:"card-body p-5 pt-0"},[s("v-card",{staticStyle:{"box-shadow":"none"}},[s("v-data-table",{staticClass:"table",attrs:{headers:t._headers,items:t.rfqs,search:t.search},scopedSlots:t._u([{key:"item.importer_label",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"symbol symbol-40 symbol-light-success mr-2"},[a.importer_pays_flag?s("img",{attrs:{src:a.importer_pays_flag,alt:""}}):t._e()]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-grow-1"},[s("span",{staticClass:"text-dark font-size-sm font-weight-bold"},[t._v(t._s(a.importer_label))]),t._v(" "),s("span",{staticClass:"text-muted font-size-xs"},[t._v(t._s(a.importer_company)+" - "+t._s(a.importer_pays_label))])])])])]}},{key:"item.importer_company",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("span",{staticClass:"font-size-sm"},[t._v(t._s(a.importer_company))])])]}},{key:"item.importer_pays_label",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"symbol symbol-30 symbol-light-success mr-2"},[a.importer_pays_flag?s("img",{attrs:{src:a.importer_pays_flag,alt:""}}):t._e()]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-grow-1"},[s("span",{staticClass:"text-dark font-size-sm font-weight-bold"},[t._v(t._s(a.importer_pays_label))])])])])]}},{key:"item.produit_label",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"symbol symbol-50 symbol-light-success mr-2"},[s("img",{attrs:{src:a.produit_image,alt:""}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-grow-1"},[s("span",{staticClass:"text-dark font-size-sm font-weight-bold"},[t._v(t._s(a.produit_label))]),t._v(" "),s("span",{staticClass:"text-muted font-size-sm"},[t._v(t._s(a.entreprise_label))])])])])]}},{key:"item.secteur_label",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"symbol symbol-30 symbol-light-success mr-2"},[s("img",{attrs:{src:a.secteur_image,alt:""}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-grow-1"},[s("a",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{href:"#"}},[t._v(t._s(a.secteur_label))])])])])]}},{key:"item.published",fn:function(e){var a=e.item;return[s("span",{staticClass:"label label-inline font-weight-normal",style:{color:"#fff","background-color":"rgb("+a.statut_color+")"}},[t._v(t._s(a.statut_label))])]}},{key:"item.closed",fn:function(e){var a=e.item;return[a.closed?t._e():s("span",{staticClass:"label label-warning label-inline font-weight-lighter mr-1",staticStyle:{"background-color":"#006266"}},[t._v("Ouverte")]),t._v(" "),a.closed?s("span",{staticClass:"label label-dark label-inline font-weight-lighter mr-1",staticStyle:{"background-color":"#1B1464"}},[t._v("Clôturée")]):t._e()]}},{key:"item.sujet",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"text-dark font-size-sm font-weight-bold",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("span",{staticClass:"d-block font-size-sm"},[t._v(t._s(a.sujet))])])]}},{key:"item.date",fn:function(e){var a=e.item;return[s("span",{staticClass:"d-block font-roboto"},[t._v(t._s(a.date))])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("router-link",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{to:{name:"rfq_item",params:{id:a.id}}}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-success"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("polygon",{attrs:{points:"0 0 24 0 24 24 0 24"}}),t._v(" "),s("rect",{attrs:{fill:"#000000",opacity:"0.5",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000)",x:"11",y:"5",width:"2",height:"14",rx:"1"}}),t._v(" "),s("path",{attrs:{d:"M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z",fill:"#000000","fill-rule":"nonzero",transform:"translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)"}})])])])])]}}])})],1)],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xl-3"},[e("div",{staticClass:"form-group mb-0"},[e("label",[this._v("Période")]),this._v(" "),e("a",{staticClass:"btn btn-sm btn-light font-weight-bold d-block",staticStyle:{padding:"11px 20px","background-color":"#ebedf3"},attrs:{href:"#",id:"kt_dashboard_daterangepicker","data-toggle":"tooltip",title:"Select dashboard daterange","data-placement":"left"}},[e("span",{staticClass:"text-dark font-size-base",attrs:{id:"kt_dashboard_daterangepicker_title"}},[this._v("Today")]),this._v(" "),e("span",{staticClass:"text-dark font-size-base",attrs:{id:"kt_dashboard_daterangepicker_date"}},[this._v("Aug 16")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"navi-icon"},[e("i",{staticClass:"flaticon-search"})])}],!1,null,null,null);e.default=r.exports}}]);